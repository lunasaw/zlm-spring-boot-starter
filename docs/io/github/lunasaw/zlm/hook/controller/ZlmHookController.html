<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Mon Jul 21 11:39:30 UTC 2025 -->
<title>ZlmHookController (zlm-spring-boot-starter 1.0.8 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-07-21">
<meta name="description" content="declaration: package: io.github.lunasaw.zlm.hook.controller, class: ZlmHookController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ZlmHookController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.github.lunasaw.zlm.hook.controller</a></div>
<h1 title="Class ZlmHookController" class="title">Class ZlmHookController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.github.lunasaw.zlm.hook.controller.ZlmHookController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@RestController
@ConditionalOnProperty(value="zlm.hook-enable",
                       havingValue="true")
@RequestMapping("/index/hook/")
</span><span class="modifiers">public class </span><span class="element-name type-name-label">ZlmHookController</span>
<span class="extends-implements">extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<dl class="notes">
<dt>Version:</dt>
<dd>1.0</dd>
<dt>Author:</dt>
<dd>luna</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ZlmHookController</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onFlowReport(io.github.lunasaw.zlm.hook.param.OnFlowReportHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onFlowReport</a><wbr>(<a href="../param/OnFlowReportHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnFlowReportHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">流量统计事件，播放器或推流器断开时并且耗用流量超过特定阈值时会触发此事件，
 阈值通过配置文件general.flowThreshold配置；此事件对回复不敏感。</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResultForOnHttpAccess.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForOnHttpAccess</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onHttpAccess(io.github.lunasaw.zlm.hook.param.OnHttpAccessParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onHttpAccess</a><wbr>(<a href="../param/OnHttpAccessParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnHttpAccessParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">访问http文件服务器上hls之外的文件时触发。结果会被缓存Cookie</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onPlay(io.github.lunasaw.zlm.hook.param.OnPlayHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onPlay</a><wbr>(<a href="../param/OnPlayHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnPlayHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">播放器鉴权事件，rtsp/rtmp/http-flv/ws-flv/hls的播放都将触发此鉴权事件。</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResultForOnPublish.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForOnPublish</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onPublish(io.github.lunasaw.zlm.hook.param.OnPublishHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onPublish</a><wbr>(<a href="../param/OnPublishHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnPublishHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">rtsp/rtmp/rtp推流鉴权事件。</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onRecordMp4(io.github.lunasaw.zlm.hook.param.OnRecordMp4HookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onRecordMp4</a><wbr>(<a href="../param/OnRecordMp4HookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnRecordMp4HookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onRtpServerTimeout(io.github.lunasaw.zlm.hook.param.OnRtpServerTimeoutHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onRtpServerTimeout</a><wbr>(<a href="../param/OnRtpServerTimeoutHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnRtpServerTimeoutHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">rtpServer收流超时
 调用openRtpServer 接口，rtp server 长时间未收到数据,执行此web hook,对回复不敏感</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResultForOnRtspAuth.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForOnRtspAuth</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onRtspAuth(io.github.lunasaw.zlm.hook.param.OnRtspAuthHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onRtspAuth</a><wbr>(<a href="../param/OnRtspAuthHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnRtspAuthHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">rtsp专用的鉴权事件，先触发on_rtsp_realm事件然后才会触发on_rtsp_auth事件。</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResultForOnRtspRealm.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForOnRtspRealm</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onRtspRealm(io.github.lunasaw.zlm.hook.param.OnRtspRealmHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onRtspRealm</a><wbr>(<a href="../param/OnRtspRealmHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnRtspRealmHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">该rtsp流是否开启rtsp专用方式的鉴权事件，开启后才会触发on_rtsp_auth事件。</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onSendRtpStopped(io.github.lunasaw.zlm.hook.param.OnSendRtpStoppedHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onSendRtpStopped</a><wbr>(<a href="../param/OnSendRtpStoppedHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnSendRtpStoppedHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">发送rtp(startSendRtp)被动关闭时回调</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onServerExited(io.github.lunasaw.zlm.hook.param.HookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onServerExited</a><wbr>(<a href="../param/HookParam.html" title="class in io.github.lunasaw.zlm.hook.param">HookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onServerKeepalive(io.github.lunasaw.zlm.hook.param.OnServerKeepaliveHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onServerKeepalive</a><wbr>(<a href="../param/OnServerKeepaliveHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnServerKeepaliveHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">服务器定时上报时间，上报间隔可配置，默认10s上报一次</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onServerStarted(io.github.lunasaw.zlm.entity.ServerNodeConfig,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onServerStarted</a><wbr>(<a href="../../entity/ServerNodeConfig.html" title="class in io.github.lunasaw.zlm.entity">ServerNodeConfig</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">服务器启动事件，可以用于监听服务器崩溃重启；此事件对回复不敏感。</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onStreamChanged(io.github.lunasaw.zlm.hook.param.OnStreamChangedHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onStreamChanged</a><wbr>(<a href="../param/OnStreamChangedHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnStreamChangedHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">rtsp/rtmp流注册或注销时触发此事件；此事件对回复不敏感。</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResultForStreamNoneReader.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForStreamNoneReader</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onStreamNoneReader(io.github.lunasaw.zlm.hook.param.OnStreamNoneReaderHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onStreamNoneReader</a><wbr>(<a href="../param/OnStreamNoneReaderHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnStreamNoneReaderHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">流无人观看时事件，用户可以通过此事件选择是否关闭无人看的流。</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onStreamNotFound(io.github.lunasaw.zlm.hook.param.OnStreamNotFoundHookParam,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">onStreamNotFound</a><wbr>(<a href="../param/OnStreamNotFoundHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnStreamNotFoundHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">流未找到事件，用户可以在此事件触发时，立即去拉流，这样可以实现按需拉流；此事件对回复不敏感。</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ZlmHookController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ZlmHookController</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="onServerKeepalive(io.github.lunasaw.zlm.hook.param.OnServerKeepaliveHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onServerKeepalive</h3>
<div class="member-signature"><span class="annotations">@PostMapping(value="/on_server_keepalive",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onServerKeepalive</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnServerKeepaliveHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnServerKeepaliveHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">服务器定时上报时间，上报间隔可配置，默认10s上报一次</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>param</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="onPlay(io.github.lunasaw.zlm.hook.param.OnPlayHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onPlay</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_play",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onPlay</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnPlayHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnPlayHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">播放器鉴权事件，rtsp/rtmp/http-flv/ws-flv/hls的播放都将触发此鉴权事件。</div>
</section>
</li>
<li>
<section class="detail" id="onPublish(io.github.lunasaw.zlm.hook.param.OnPublishHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onPublish</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_publish",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResultForOnPublish.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForOnPublish</a></span>&nbsp;<span class="element-name">onPublish</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnPublishHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnPublishHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">rtsp/rtmp/rtp推流鉴权事件。</div>
</section>
</li>
<li>
<section class="detail" id="onStreamChanged(io.github.lunasaw.zlm.hook.param.OnStreamChangedHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onStreamChanged</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_stream_changed",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onStreamChanged</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnStreamChangedHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnStreamChangedHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">rtsp/rtmp流注册或注销时触发此事件；此事件对回复不敏感。</div>
</section>
</li>
<li>
<section class="detail" id="onStreamNoneReader(io.github.lunasaw.zlm.hook.param.OnStreamNoneReaderHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onStreamNoneReader</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_stream_none_reader",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResultForStreamNoneReader.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForStreamNoneReader</a></span>&nbsp;<span class="element-name">onStreamNoneReader</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnStreamNoneReaderHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnStreamNoneReaderHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">流无人观看时事件，用户可以通过此事件选择是否关闭无人看的流。
 <p>
 流无人观看时事件，用户可以通过此事件选择是否关闭无人看的流。 一个直播流注册上线了，如果一直没人观看也会触发一次无人观看事件，触发时的协议schema是随机的，看哪种协议最晚注册(一般为hls)。
 后续从有人观看转为无人观看，触发协议schema为最后一名观看者使用何种协议。
 目前mp4/hls录制不当做观看人数(mp4录制可以通过配置文件mp4_as_player控制，但是rtsp/rtmp/rtp转推算观看人数，也会触发该事件。</div>
</section>
</li>
<li>
<section class="detail" id="onStreamNotFound(io.github.lunasaw.zlm.hook.param.OnStreamNotFoundHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onStreamNotFound</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_stream_not_found",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onStreamNotFound</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnStreamNotFoundHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnStreamNotFoundHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">流未找到事件，用户可以在此事件触发时，立即去拉流，这样可以实现按需拉流；此事件对回复不敏感。</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>code    int     错误代码，0代表允许播放 msg        string  不允许播放时的错误提示</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onServerStarted(io.github.lunasaw.zlm.entity.ServerNodeConfig,jakarta.servlet.http.HttpServletRequest)">
<h3>onServerStarted</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_server_started",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onServerStarted</span><wbr><span class="parameters">(@RequestBody
 <a href="../../entity/ServerNodeConfig.html" title="class in io.github.lunasaw.zlm.entity">ServerNodeConfig</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">服务器启动事件，可以用于监听服务器崩溃重启；此事件对回复不敏感。</div>
</section>
</li>
<li>
<section class="detail" id="onServerExited(io.github.lunasaw.zlm.hook.param.HookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onServerExited</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_server_exited",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onServerExited</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/HookParam.html" title="class in io.github.lunasaw.zlm.hook.param">HookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
</section>
</li>
<li>
<section class="detail" id="onSendRtpStopped(io.github.lunasaw.zlm.hook.param.OnSendRtpStoppedHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onSendRtpStopped</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_send_rtp_stopped",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onSendRtpStopped</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnSendRtpStoppedHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnSendRtpStoppedHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">发送rtp(startSendRtp)被动关闭时回调</div>
</section>
</li>
<li>
<section class="detail" id="onRtpServerTimeout(io.github.lunasaw.zlm.hook.param.OnRtpServerTimeoutHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onRtpServerTimeout</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_rtp_server_timeout",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onRtpServerTimeout</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnRtpServerTimeoutHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnRtpServerTimeoutHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">rtpServer收流超时
 调用openRtpServer 接口，rtp server 长时间未收到数据,执行此web hook,对回复不敏感</div>
</section>
</li>
<li>
<section class="detail" id="onHttpAccess(io.github.lunasaw.zlm.hook.param.OnHttpAccessParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onHttpAccess</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_http_access",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResultForOnHttpAccess.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForOnHttpAccess</a></span>&nbsp;<span class="element-name">onHttpAccess</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnHttpAccessParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnHttpAccessParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">访问http文件服务器上hls之外的文件时触发。结果会被缓存Cookie</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>param</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="onRtspRealm(io.github.lunasaw.zlm.hook.param.OnRtspRealmHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onRtspRealm</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_rtsp_realm",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResultForOnRtspRealm.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForOnRtspRealm</a></span>&nbsp;<span class="element-name">onRtspRealm</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnRtspRealmHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnRtspRealmHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">该rtsp流是否开启rtsp专用方式的鉴权事件，开启后才会触发on_rtsp_auth事件。
 <p>
 需要指出的是rtsp也支持url参数鉴权，它支持两种方式鉴权。</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>param</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="onRtspAuth(io.github.lunasaw.zlm.hook.param.OnRtspAuthHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onRtspAuth</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_rtsp_auth",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResultForOnRtspAuth.html" title="class in io.github.lunasaw.zlm.hook.param">HookResultForOnRtspAuth</a></span>&nbsp;<span class="element-name">onRtspAuth</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnRtspAuthHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnRtspAuthHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">rtsp专用的鉴权事件，先触发on_rtsp_realm事件然后才会触发on_rtsp_auth事件。</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>param</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="onFlowReport(io.github.lunasaw.zlm.hook.param.OnFlowReportHookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onFlowReport</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_flow_report",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onFlowReport</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnFlowReportHookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnFlowReportHookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
<div class="block">流量统计事件，播放器或推流器断开时并且耗用流量超过特定阈值时会触发此事件，
 阈值通过配置文件general.flowThreshold配置；此事件对回复不敏感。</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>param</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="onRecordMp4(io.github.lunasaw.zlm.hook.param.OnRecordMp4HookParam,jakarta.servlet.http.HttpServletRequest)">
<h3>onRecordMp4</h3>
<div class="member-signature"><span class="annotations">@ResponseBody
@PostMapping(value="/on_record_mp4",
             produces="application/json;charset=UTF-8")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../param/HookResult.html" title="class in io.github.lunasaw.zlm.hook.param">HookResult</a></span>&nbsp;<span class="element-name">onRecordMp4</span><wbr><span class="parameters">(@RequestBody
 <a href="../param/OnRecordMp4HookParam.html" title="class in io.github.lunasaw.zlm.hook.param">OnRecordMp4HookParam</a>&nbsp;param,
 jakarta.servlet.http.HttpServletRequest&nbsp;request)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
